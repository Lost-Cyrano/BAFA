<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Choixpeau Magique</title>
<style>
    @import url('https://fonts.googleapis.com/css2?family=MedievalSharp&display=swap');

    body {
        margin: 0;
        font-family: 'MedievalSharp', cursive;
        background: url('https://images.unsplash.com/photo-1506748686214-e9df14d4d9d0?fit=crop&w=1920&q=80') no-repeat center center fixed;
        background-size: cover;
        color: gold;
        text-align: center;
    }

    #content {
        background-color: rgba(0, 0, 0, 0.7);
        padding: 30px;
        border-radius: 15px;
        max-width: 700px;
        margin: 80px auto;
        box-shadow: 0 0 20px gold;
    }

    h1 {
        font-size: 3em;
        margin-bottom: 20px;
        text-shadow: 2px 2px 8px black;
    }

    .controls {
        margin: 20px 0;
    }

    input[type="range"] {
        width: 300px;
    }

    button {
        font-size: 20px;
        padding: 12px 25px;
        margin: 15px;
        border: 2px solid gold;
        border-radius: 10px;
        background-color: rgba(30, 30, 30, 0.8);
        color: gold;
        cursor: pointer;
        transition: 0.3s;
    }

    button:hover {
        background-color: gold;
        color: black;
        transform: scale(1.1);
    }

    footer {
        margin-top: 30px;
        font-size: 14px;
        opacity: 0.7;
    }
</style>
</head>
<body>

<div id="content" style="display:none;">
    <h1>üé© Bienvenue au Choixpeau Magique üé©</h1>

    <div class="controls">
        <label>Volume musique :</label><br>
        <input type="range" id="volumeSlider" min="0" max="200" value="100">
    </div>

    <div>
        <button onclick="playHouse('gryffondor.mp3')">ü¶Å Gryffondor</button>
        <button onclick="playHouse('poufsouffle.mp3')">ü¶° Poufsouffle</button>
        <button onclick="playHouse('serdaigle.mp3')">ü¶Ö Serdaigle</button>
        <button onclick="playHouse('serpentard.mp3')">üêç Serpentard</button>
    </div>

    <footer>¬© Poudlard - Minist√®re de la Magie</footer>
</div>

<audio id="backgroundMusic" src="Prologue.mp3" loop autoplay></audio>
<audio id="houseAudio"></audio>

<script>
    // Code d'acc√®s
    let code = prompt("Entrez le code d'acc√®s :");
    if (code === "132") {
        document.getElementById("content").style.display = "block";
        let music = document.getElementById("backgroundMusic");
        music.volume = 1.0;
        music.play().catch(err => console.log("Lecture auto bloqu√©e : ", err));
    } else {
        alert("Code incorrect !");
    }

    // Curseur volume avec boost (0% √† 200%)
    document.getElementById("volumeSlider").addEventListener("input", function() {
        let sliderValue = this.value;
        let music = document.getElementById("backgroundMusic");

        // Volume normal de 0 √† 100%
        music.volume = Math.min(sliderValue / 100, 1);

        // Boost audio via Web Audio API
        if (!music.audioCtx) {
            music.audioCtx = new (window.AudioContext || window.webkitAudioContext)();
            music.source = music.audioCtx.createMediaElementSource(music);
            music.gainNode = music.audioCtx.createGain();
            music.source.connect(music.gainNode);
            music.gainNode.connect(music.audioCtx.destination);
        }
        let boost = sliderValue > 100 ? (sliderValue / 100) : (sliderValue / 100);
        music.gainNode.gain.value = boost;
    });

    // Lecture des sons de maisons
    function playHouse(file) {
        let audio = document.getElementById("houseAudio");
        audio.src = file;
        audio.play();
    }
</script>

</body>
</html>
